(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",55e3),document.querySelector(".check").textContent=sessionStorage.getItem("money"),(document.querySelector(".monster")||document.querySelector(".cards"))&&(document.querySelector(".footer-monster__coins").textContent=50,sessionStorage.setItem("current-bet",50)),document.querySelector(".shop")&&("true"==sessionStorage.getItem("shirt-2")&&document.querySelectorAll(".shop__button").forEach((e=>{2==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",2==sessionStorage.getItem("current-shirt")&&(i("_target",".shop__item"),e.parentElement.classList.add("_target")))})),"true"==sessionStorage.getItem("shirt-3")&&document.querySelectorAll(".shop__button").forEach((e=>{3==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",3==sessionStorage.getItem("current-shirt")&&(i("_target",".shop__item"),e.parentElement.classList.add("_target")))})),"true"==sessionStorage.getItem("shirt-4")&&document.querySelectorAll(".shop__button").forEach((e=>{4==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",4==sessionStorage.getItem("current-shirt")&&(i("_target",".shop__item"),e.parentElement.classList.add("_target")))})));const t=document.querySelector(".preloader"),s=document.querySelector(".wrapper");let o=document.querySelector(".check"),n=document.querySelector(".play__rate"),r=document.querySelector(".play__count");function i(e,t){document.querySelectorAll(t).forEach((t=>{t.classList.contains(e)&&t.classList.remove(e)}))}function a(e){let t=+sessionStorage.getItem("money");sessionStorage.setItem("money",t-e),setTimeout((()=>{o.classList.add("_delete-money"),o.textContent=sessionStorage.getItem("money")}),500),setTimeout((()=>{o.classList.remove("_delete-money")}),1500)}function c(){o.classList.add("_no-money"),setTimeout((()=>{o.classList.remove("_no-money")}),1e3)}function l(e,t){e.classList.add("_buyed"),t.innerHTML="<p>select</p>"}function m(e,t){return Math.floor(Math.random()*(t-e)+e)}function d(){let e=g(),t=_(e);t.forEach((e=>{e.classList.add("_visible")})),function(e,t){let s=["img/game-1/good-monster-1.png","img/game-1/good-monster-2.png"],o=["img/game-1/bad-monster-1.png","img/game-1/bad-monster-2.png"],n=document.createElement("img"),r=document.createElement("img"),i=document.createElement("img"),a=m(0,2);p=[];let c=h(0,4);t>=1&&t<=6?(n.setAttribute("data-kind","1"),n.setAttribute("src","img/game-1/good-monster-1.png"),r.setAttribute("data-kind","1"),r.setAttribute("src","img/game-1/good-monster-2.png"),i.setAttribute("data-bad","1"),i.setAttribute("src",o[a]),e[c[0]].append(n),e[c[1]].append(r),e[c[2]].append(i)):t>=7&&t<=12?(n.setAttribute("data-kind","1"),n.setAttribute("src",s[a]),r.setAttribute("data-bad","1"),r.setAttribute("src",o[a]),e[c[0]].append(n),e[c[1]].append(r)):t>=13&&(n.setAttribute("data-bad","1"),n.setAttribute("src","img/game-1/bad-monster-1.png"),r.setAttribute("data-bad","1"),r.setAttribute("src","img/game-1/bad-monster-2.png"),i.setAttribute("data-kind","1"),i.setAttribute("src",s[a]),e[c[0]].append(n),e[c[1]].append(r),e[c[2]].append(i))}(u(t),e)}function u(e){return e.filter((e=>!e.classList.contains("game-monster__item_level")))}function g(){return+sessionStorage.getItem("current-level")}function _(e){let t=document.querySelectorAll(".game-monster__item"),s=[];return t.forEach((t=>{t.dataset.level==e&&s.push(t)})),s}document.addEventListener("click",(e=>{let o=e.target;if(o.closest(".acces-preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),s.classList.add("_visible")),o.closest(".shop__button")&&1==o.closest(".shop__button").dataset.shirt&&(sessionStorage.setItem("current-shirt",1),i("_target",".shop__item"),o.closest(".shop__item").classList.add("_target")),o.closest(".shop__button")&&2==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-2"))sessionStorage.setItem("current-shirt",2),i("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=5e3?(a(5e3),sessionStorage.setItem("shirt-2",!0),l(o.closest(".shop__item"),o.closest(".shop__button"))):c()}if(o.closest(".shop__button")&&3==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-3"))sessionStorage.setItem("current-shirt",3),i("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=1e4?(a(1e4),sessionStorage.setItem("shirt-3",!0),l(o.closest(".shop__item"),o.closest(".shop__button"))):c()}if(o.closest(".shop__button")&&4==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-4"))sessionStorage.setItem("current-shirt",4),i("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=15e3?(a(15e3),sessionStorage.setItem("shirt-4",!0),l(o.closest(".shop__item"),o.closest(".shop__button"))):c()}if(o.closest(".header__button-home")&&sessionStorage.setItem("current-bet",50),o.closest(".footer-monster__minus")){let e=+sessionStorage.getItem("current-bet");e>=50&&(sessionStorage.setItem("current-bet",e-50),document.querySelector(".footer-monster__coins").textContent=sessionStorage.getItem("current-bet"))}if(o.closest(".footer-monster__plus")){let e=+sessionStorage.getItem("current-bet");+sessionStorage.getItem("money")>e&&(sessionStorage.setItem("current-bet",e+50),document.querySelector(".footer-monster__coins").textContent=sessionStorage.getItem("current-bet"))}if(o.closest(".footer-monster__button")&&(document.querySelector(".footer-monster__controls").classList.add("_hold"),document.querySelector(".footer-monster__button").classList.add("_hold"),a(+sessionStorage.getItem("current-bet")),sessionStorage.setItem("current-level",1),d()),o.closest(".game-monster__item")&&o.closest(".game-monster__item").classList.contains("_visible")){let e=_(g());!function(e,t,s){s.closest(".game-monster__item").classList.add("_selected");let o=s.closest(".game-monster__item").childNodes[0],i="";null!=o?o.dataset.kind?i="kind":o.dataset.bad&&(i="bad"):i="empty";sessionStorage.setItem("clicked-item",i),setTimeout((()=>{e.forEach((e=>{e.classList.add("_hold")}))}),20),setTimeout((()=>{!function(e){e.forEach((e=>{e.classList.add("_show-img"),e.childNodes[0]&&e.childNodes[0].dataset.kind&&e.classList.add("_kind"),e.childNodes[0]&&1==e.childNodes[0].dataset.bad&&e.classList.add("_bad")}))}(t)}),1500),setTimeout((()=>{!function(){let e=sessionStorage.getItem("clicked-item");if("kind"==e){let e=g();return sessionStorage.setItem("win-level",e),sessionStorage.setItem("current-level",+sessionStorage.getItem("current-level")+1),sessionStorage.setItem("clicked-item",""),d()}if("bad"==e)if(document.querySelector(".play").classList.add("_active"),sessionStorage.getItem("win-level")){let e=function(e){let t=0;1==e?t=1:2==e?t=2:3==e?t=5:4==e?t=10:5==e?t=15:6==e?t=32:7==e?t=42:8==e?t=53:9==e?t=60:10==e?t=63:11==e?t=70:12==e?t=75:13==e?t=80:14==e?t=90:15==e?t=120:16==e&&(t=160);return t}(+sessionStorage.getItem("win-level")),s=+sessionStorage.getItem("current-bet")*e;n.textContent=`x${e}`,r.textContent=s,t=s,document.querySelector(".check").textContent=+sessionStorage.getItem("money")+t,document.querySelector(".check").classList.add("_anim-add-money"),sessionStorage.setItem("money",+sessionStorage.getItem("money")+t),sessionStorage.setItem("win-level",0)}else n.textContent="0",r.textContent="0";var t;if("empty"==e)return sessionStorage.setItem("current-level",+sessionStorage.getItem("current-level")+1),sessionStorage.setItem("clicked-item",""),d();sessionStorage.setItem("clicked-item","")}()}),2500)}(e,u(e),o)}}));let p=[];function h(e,t){if(0==p.length){let s=m(e,t);p.push(s)}if(1==p.length){let s=m(e,t);if(1==p.includes(s))return h(0,4);p.push(s)}if(2==p.length){let s=m(e,t);if(1==p.includes(s))return h(0,4);p.push(s)}return p}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();
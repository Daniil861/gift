(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",55e3),document.querySelector(".check").textContent=sessionStorage.getItem("money"),(document.querySelector(".monster")||document.querySelector(".cards"))&&(document.querySelector(".footer-monster__coins").textContent=50,sessionStorage.setItem("current-bet",50)),document.querySelector(".shop")&&("true"==sessionStorage.getItem("shirt-2")&&document.querySelectorAll(".shop__button").forEach((e=>{2==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",2==sessionStorage.getItem("current-shirt")&&(c("_target",".shop__item"),e.parentElement.classList.add("_target")))})),"true"==sessionStorage.getItem("shirt-3")&&document.querySelectorAll(".shop__button").forEach((e=>{3==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",3==sessionStorage.getItem("current-shirt")&&(c("_target",".shop__item"),e.parentElement.classList.add("_target")))})),"true"==sessionStorage.getItem("shirt-4")&&document.querySelectorAll(".shop__button").forEach((e=>{4==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",4==sessionStorage.getItem("current-shirt")&&(c("_target",".shop__item"),e.parentElement.classList.add("_target")))}))),(document.querySelector(".card")||document.querySelector(".monster"))&&sessionStorage.setItem("current-bet",50),document.querySelector(".card")&&(sessionStorage.getItem("current-shirt")||sessionStorage.setItem("current-shirt",1),function(){let e=+sessionStorage.getItem("current-shirt"),t=document.createElement("img"),s=document.createElement("img"),o=document.createElement("img"),r=document.createElement("img"),n=document.createElement("img"),i=document.createElement("img");t.setAttribute("src",`img/shop/shirt-${e}.jpg`),s.setAttribute("src",`img/shop/shirt-${e}.jpg`),o.setAttribute("src",`img/shop/shirt-${e}.jpg`),r.setAttribute("src",`img/shop/shirt-${e}.jpg`),n.setAttribute("src",`img/shop/shirt-${e}.jpg`),i.setAttribute("src",`img/shop/shirt-${e}.jpg`),document.querySelector(".card__closed_1").appendChild(t),document.querySelector(".card__closed_2").appendChild(s),document.querySelector(".card__closed_3").appendChild(o),document.querySelector(".card__image-1").appendChild(r),document.querySelector(".card__image-2").appendChild(n),document.querySelector(".card__image-3").appendChild(i)}());const t=document.querySelector(".preloader"),s=document.querySelector(".wrapper");let o=document.querySelector(".check"),r=document.querySelector(".play__rate"),n=document.querySelector(".play__count");function i(e,t){document.querySelector(e).classList.contains(t)?document.querySelector(e).classList.remove(t):document.querySelector(e).classList.add(t)}function c(e,t){document.querySelectorAll(t).forEach((t=>{t.classList.contains(e)&&t.classList.remove(e)}))}function a(e){let t=+sessionStorage.getItem("money");sessionStorage.setItem("money",t-e),setTimeout((()=>{o.classList.add("_delete-money"),o.textContent=sessionStorage.getItem("money")}),500),setTimeout((()=>{o.classList.remove("_delete-money")}),1500)}function d(){o.classList.add("_no-money"),setTimeout((()=>{o.classList.remove("_no-money")}),1e3)}function m(e,t){e.classList.add("_buyed"),t.innerHTML="<p>select</p>"}function l(){return+sessionStorage.getItem("current-bet")}function u(e,t){return Math.floor(Math.random()*(t-e)+e)}function _(){let e=S(),t=h(e);t.forEach((e=>{e.classList.add("_visible")}));let s=g(t);e>=1&&e<=16&&function(e,t){let s=["img/game-1/good-monster-1.png","img/game-1/good-monster-2.png"],o=["img/game-1/bad-monster-1.png","img/game-1/bad-monster-2.png"],r=document.createElement("img"),n=document.createElement("img"),i=document.createElement("img"),c=u(0,2);f=[];let a=y(0,4);t>=1&&t<=6?(r.setAttribute("data-kind","1"),r.setAttribute("src","img/game-1/good-monster-1.png"),n.setAttribute("data-kind","1"),n.setAttribute("src","img/game-1/good-monster-2.png"),i.setAttribute("data-bad","1"),i.setAttribute("src",o[c]),e[a[0]].append(r),e[a[1]].append(n),e[a[2]].append(i)):t>=7&&t<=12?(r.setAttribute("data-kind","1"),r.setAttribute("src",s[c]),n.setAttribute("data-bad","1"),n.setAttribute("src",o[c]),e[a[0]].append(r),e[a[1]].append(n)):t>=13&&(r.setAttribute("data-bad","1"),r.setAttribute("src","img/game-1/bad-monster-1.png"),n.setAttribute("data-bad","1"),n.setAttribute("src","img/game-1/bad-monster-2.png"),i.setAttribute("data-kind","1"),i.setAttribute("src",s[c]),e[a[0]].append(r),e[a[1]].append(n),e[a[2]].append(i))}(s,e)}function g(e){return e.filter((e=>!e.classList.contains("game-monster__item_level")))}function S(){return+sessionStorage.getItem("current-level")}function h(e){let t=document.querySelectorAll(".game-monster__item"),s=[];return t.forEach((t=>{t.dataset.level==e&&s.push(t)})),s}function p(e){document.querySelector(".check").textContent=+sessionStorage.getItem("money")+e,document.querySelector(".check").classList.add("_anim-add-money"),sessionStorage.setItem("money",+sessionStorage.getItem("money")+e)}function b(e){let t=0;return 1==e?t=1:2==e?t=2:3==e?t=5:4==e?t=10:5==e?t=15:6==e?t=32:7==e?t=42:8==e?t=53:9==e?t=60:10==e?t=63:11==e?t=70:12==e?t=75:13==e?t=80:14==e?t=90:15==e?t=120:16==e&&(t=160),t}document.addEventListener("click",(e=>{let o=e.target;if(o.closest(".acces-preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),s.classList.add("_visible")),o.closest(".shop__button")&&1==o.closest(".shop__button").dataset.shirt&&(sessionStorage.setItem("current-shirt",1),c("_target",".shop__item"),o.closest(".shop__item").classList.add("_target")),o.closest(".shop__button")&&2==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-2"))sessionStorage.setItem("current-shirt",2),c("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=15e3?(a(15e3),sessionStorage.setItem("shirt-2",!0),m(o.closest(".shop__item"),o.closest(".shop__button"))):d()}if(o.closest(".shop__button")&&3==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-3"))sessionStorage.setItem("current-shirt",3),c("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=25e3?(a(25e3),sessionStorage.setItem("shirt-3",!0),m(o.closest(".shop__item"),o.closest(".shop__button"))):d()}if(o.closest(".shop__button")&&4==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-4"))sessionStorage.setItem("current-shirt",4),c("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=4e4?(a(4e4),sessionStorage.setItem("shirt-4",!0),m(o.closest(".shop__item"),o.closest(".shop__button"))):d()}if(o.closest(".footer-monster__minus")){let e=+sessionStorage.getItem("current-bet");e>50&&(sessionStorage.setItem("current-bet",e-50),document.querySelector(".footer-monster__coins").textContent=sessionStorage.getItem("current-bet"))}if(o.closest(".footer-monster__plus")){let e=+sessionStorage.getItem("current-bet");+sessionStorage.getItem("money")>e&&(sessionStorage.setItem("current-bet",e+50),document.querySelector(".footer-monster__coins").textContent=sessionStorage.getItem("current-bet"))}if(o.closest(".footer-monster__button_bet")&&(i(".footer-monster__button_bet","_hold"),i(".footer-monster__controls","_hold"),a(l()),sessionStorage.setItem("current-level",1),_()),o.closest(".footer-monster__button_card")&&(i(".footer-monster__controls","_hold"),i(".footer-monster__button_card","_hold"),a(l()),i(".footer-monster__button_high","_hold"),i(".footer-monster__button_low","_hold"),function(){document.querySelector(".card__field").classList.add("_visible");let e=L(),t=L(),s=L(),o=L(),r=[e,t,s,o];q(r,0,".card__opened"),q(r,1,".card__new-card_1"),q(r,2,".card__new-card_2"),q(r,3,".card__new-card_3"),n=r,document.querySelector(".card__closed_1").setAttribute("data-number",n[1]),document.querySelector(".card__closed_2").setAttribute("data-number",n[2]),document.querySelector(".card__closed_3").setAttribute("data-number",n[3]),sessionStorage.setItem("opened-card",r[0]),setTimeout((()=>{document.querySelector(".footer-monster__button_high").classList.add("_anim"),document.querySelector(".footer-monster__button_low").classList.add("_anim")}),2e3),setTimeout((()=>{document.querySelector(".footer-monster__button_high").classList.remove("_anim"),document.querySelector(".footer-monster__button_low").classList.remove("_anim")}),3e3);var n}()),o.closest(".game-monster__item")&&o.closest(".game-monster__item").classList.contains("_visible")){let e=h(S());!function(e,t,s){s.closest(".game-monster__item").classList.add("_selected");let o=s.closest(".game-monster__item").childNodes[0],i="";null!=o?o.dataset.kind?i="kind":o.dataset.bad&&(i="bad"):i="empty";sessionStorage.setItem("clicked-item",i),setTimeout((()=>{e.forEach((e=>{e.classList.add("_hold")}))}),20),setTimeout((()=>{!function(e){e.forEach((e=>{e.classList.add("_show-img"),e.childNodes[0]&&e.childNodes[0].dataset.kind&&e.classList.add("_kind"),e.childNodes[0]&&1==e.childNodes[0].dataset.bad&&e.classList.add("_bad")}))}(t)}),1500),setTimeout((()=>{!function(e){let t=sessionStorage.getItem("clicked-item"),s=+sessionStorage.getItem("current-level");if("empty"==t&&16==s||"kind"==t&&16==s){let t=S();sessionStorage.setItem("win-level",t),document.querySelector(".play").classList.add("_active");let s=b(+sessionStorage.getItem("win-level")),o=+sessionStorage.getItem("current-bet")*s;return r.textContent=`x${s}`,n.textContent=o,p(o),sessionStorage.setItem("win-level",0),e.closest(".game-monster__item").classList.add("_green"),!1}if("kind"==t){let t=S();return sessionStorage.setItem("win-level",t),sessionStorage.setItem("current-level",+sessionStorage.getItem("current-level")+1),sessionStorage.setItem("clicked-item",""),e.closest(".game-monster__item").classList.add("_green"),_()}if("bad"==t)if(e.closest(".game-monster__item").classList.add("_red"),document.querySelector(".play").classList.add("_active"),sessionStorage.getItem("win-level")){let e=b(+sessionStorage.getItem("win-level")),t=+sessionStorage.getItem("current-bet")*e;r.textContent=`x${e}`,n.textContent=t,p(t),sessionStorage.setItem("win-level",0)}else r.textContent="0",n.textContent="0";if("empty"==t)return e.closest(".game-monster__item").classList.add("_green"),sessionStorage.setItem("current-level",+sessionStorage.getItem("current-level")+1),sessionStorage.setItem("clicked-item",""),_();sessionStorage.setItem("clicked-item","")}(s)}),2500)}(e,g(e),o)}if(o.closest(".footer-monster__button_high")&&(sessionStorage.setItem("activ-mode",1),i(".footer-monster__button_high","_hold"),i(".footer-monster__button_low","_hold"),i(".footer-monster__button_low","_opacity"),document.querySelectorAll(".card__closed").forEach((e=>{e.classList.add("_anim")})),document.querySelector(".card__field").classList.remove("_hold")),o.closest(".footer-monster__button_low")&&(sessionStorage.setItem("activ-mode",2),i(".footer-monster__button_high","_hold"),i(".footer-monster__button_high","_opacity"),i(".footer-monster__button_low","_hold"),document.querySelectorAll(".card__closed").forEach((e=>{e.classList.add("_anim")})),document.querySelector(".card__field").classList.remove("_hold")),o.closest(".card__closed")){o.closest(".card__closed").classList.add("_visible");let e=+o.closest(".card__closed").dataset.number;sessionStorage.setItem("opened-closed-card",e),function(){let e=+sessionStorage.getItem("opened-card"),t=+sessionStorage.getItem("opened-closed-card");e<t&&1==+sessionStorage.getItem("activ-mode")?setTimeout((()=>{document.querySelector(".win").classList.add("_active");let e=2*+sessionStorage.getItem("current-bet");document.querySelector(".win__text").textContent=e,p(e)}),1500):e<t&&2==+sessionStorage.getItem("activ-mode")||e>t&&1==+sessionStorage.getItem("activ-mode")?setTimeout((()=>{document.querySelector(".loose").classList.add("_active")}),1500):e>t&&2==+sessionStorage.getItem("activ-mode")&&setTimeout((()=>{document.querySelector(".win").classList.add("_active");let e=2*+sessionStorage.getItem("current-bet");document.querySelector(".win__text").textContent=e,p(e)}),1500)}()}}));let f=[];function y(e,t){if(0==f.length){let s=u(e,t);f.push(s)}if(1==f.length){let s=u(e,t);if(1==f.includes(s))return y(0,4);f.push(s)}if(2==f.length){let s=u(e,t);if(1==f.includes(s))return y(0,4);f.push(s)}return f}let I=[];function L(){let e=u(2,14);return I.includes(e)?L():(I.push(e),e)}function q(e,t,s){let o=e[t],r=document.createElement("img");r.setAttribute("src",`img/game-2/card-${o}.png`),r.setAttribute("data-number",o),r.setAttribute("alt","Image"),document.querySelector(s).append(r)}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();
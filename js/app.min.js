(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",5e3),document.querySelector(".check").textContent=sessionStorage.getItem("money"),(document.querySelector(".monster")||document.querySelector(".cards"))&&(document.querySelector(".footer-monster__coins").textContent=50,sessionStorage.setItem("current-bet",50)),document.querySelector(".shop")&&("true"==sessionStorage.getItem("shirt-2")&&document.querySelectorAll(".shop__button").forEach((e=>{2==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",2==sessionStorage.getItem("current-shirt")&&(i("_target",".shop__item"),e.parentElement.classList.add("_target")))})),"true"==sessionStorage.getItem("shirt-3")&&document.querySelectorAll(".shop__button").forEach((e=>{3==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",3==sessionStorage.getItem("current-shirt")&&(i("_target",".shop__item"),e.parentElement.classList.add("_target")))})),"true"==sessionStorage.getItem("shirt-4")&&document.querySelectorAll(".shop__button").forEach((e=>{4==e.dataset.shirt&&(e.parentElement.classList.add("_buyed"),e.innerHTML="<p>select</p>",4==sessionStorage.getItem("current-shirt")&&(i("_target",".shop__item"),e.parentElement.classList.add("_target")))}))),(document.querySelector(".card")||document.querySelector(".monster"))&&sessionStorage.setItem("current-bet",50),document.querySelector(".card")&&(sessionStorage.getItem("current-shirt")||sessionStorage.setItem("current-shirt",1),function(){let e=+sessionStorage.getItem("current-shirt"),t=document.createElement("img"),s=document.createElement("img"),o=document.createElement("img"),r=document.createElement("img"),n=document.createElement("img"),c=document.createElement("img");t.setAttribute("src",`img/shop/shirt-${e}.jpg`),s.setAttribute("src",`img/shop/shirt-${e}.jpg`),o.setAttribute("src",`img/shop/shirt-${e}.jpg`),r.setAttribute("src",`img/shop/shirt-${e}.jpg`),n.setAttribute("src",`img/shop/shirt-${e}.jpg`),c.setAttribute("src",`img/shop/shirt-${e}.jpg`),document.querySelector(".card__closed_1").appendChild(t),document.querySelector(".card__closed_2").appendChild(s),document.querySelector(".card__closed_3").appendChild(o),document.querySelector(".card__image-1").appendChild(r),document.querySelector(".card__image-2").appendChild(n),document.querySelector(".card__image-3").appendChild(c)}());const t=document.querySelector(".preloader"),s=document.querySelector(".wrapper");let o=document.querySelector(".check"),r=document.querySelector(".play__rate"),n=document.querySelector(".play__count");function c(e,t){document.querySelector(e).classList.contains(t)?document.querySelector(e).classList.remove(t):document.querySelector(e).classList.add(t)}function i(e,t){document.querySelectorAll(t).forEach((t=>{t.classList.contains(e)&&t.classList.remove(e)}))}function a(e){let t=+sessionStorage.getItem("money");sessionStorage.setItem("money",t-e),setTimeout((()=>{o.classList.add("_delete-money"),o.textContent=sessionStorage.getItem("money")}),500),setTimeout((()=>{o.classList.remove("_delete-money")}),1500)}function l(){o.classList.add("_no-money"),setTimeout((()=>{o.classList.remove("_no-money")}),1e3)}function d(e,t){e.classList.add("_buyed"),t.innerHTML="<p>select</p>"}function m(){return+sessionStorage.getItem("current-bet")}function u(e,t){return Math.floor(Math.random()*(t-e)+e)}document.addEventListener("click",(e=>{let o=e.target;if(o.closest(".acces-preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),s.classList.add("_visible")),o.closest(".shop__button")&&1==o.closest(".shop__button").dataset.shirt&&(sessionStorage.setItem("current-shirt",1),i("_target",".shop__item"),o.closest(".shop__item").classList.add("_target")),o.closest(".shop__button")&&2==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-2"))sessionStorage.setItem("current-shirt",2),i("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=15e3?(a(15e3),sessionStorage.setItem("shirt-2",!0),d(o.closest(".shop__item"),o.closest(".shop__button"))):l()}if(o.closest(".shop__button")&&3==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-3"))sessionStorage.setItem("current-shirt",3),i("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=25e3?(a(25e3),sessionStorage.setItem("shirt-3",!0),d(o.closest(".shop__item"),o.closest(".shop__button"))):l()}if(o.closest(".shop__button")&&4==o.closest(".shop__button").dataset.shirt)if("true"==sessionStorage.getItem("shirt-4"))sessionStorage.setItem("current-shirt",4),i("_target",".shop__item"),o.closest(".shop__item").classList.add("_target");else{+sessionStorage.getItem("money")>=4e4?(a(4e4),sessionStorage.setItem("shirt-4",!0),d(o.closest(".shop__item"),o.closest(".shop__button"))):l()}if(o.closest(".footer-monster__minus")){let e=+sessionStorage.getItem("current-bet");e>50&&(sessionStorage.setItem("current-bet",e-50),document.querySelector(".footer-monster__coins").textContent=sessionStorage.getItem("current-bet"))}if(o.closest(".footer-monster__plus")){let e=+sessionStorage.getItem("current-bet");+sessionStorage.getItem("money")>e&&(sessionStorage.setItem("current-bet",e+50),document.querySelector(".footer-monster__coins").textContent=sessionStorage.getItem("current-bet"))}if(o.closest(".footer-monster__button_bet")&&(+sessionStorage.getItem("money")>=+sessionStorage.getItem("current-bet")?(c(".footer-monster__button_bet","_hold"),c(".footer-monster__controls","_hold"),a(m()),sessionStorage.setItem("current-level",1),g()):l()),o.closest(".footer-monster__button_card")&&(+sessionStorage.getItem("money")>=+sessionStorage.getItem("current-bet")?(c(".footer-monster__button_high","_hold"),c(".footer-monster__button_low","_hold"),c(".footer-monster__controls","_hold"),c(".footer-monster__button_card","_hold"),a(m()),function(){document.querySelector(".card__field").classList.add("_visible");let e=q(),t=q(),s=q(),o=q(),r=[e,t,s,o];var n;v(r,0,".card__opened"),v(r,1,".card__new-card_1"),v(r,2,".card__new-card_2"),v(r,3,".card__new-card_3"),n=r,document.querySelector(".card__closed_1").setAttribute("data-number",n[1]),document.querySelector(".card__closed_2").setAttribute("data-number",n[2]),document.querySelector(".card__closed_3").setAttribute("data-number",n[3]),sessionStorage.setItem("opened-card",r[0]),setTimeout((()=>{document.querySelector(".footer-monster__button_high").classList.add("_anim"),document.querySelector(".footer-monster__button_low").classList.add("_anim")}),2e3),setTimeout((()=>{document.querySelector(".footer-monster__button_high").classList.remove("_anim"),document.querySelector(".footer-monster__button_low").classList.remove("_anim")}),3e3)}()):l()),o.closest(".game-monster__item")&&o.closest(".game-monster__item").classList.contains("_visible")){let e=p(h());!function(e,t,s){s.closest(".game-monster__item").classList.add("_selected");let o=s.closest(".game-monster__item").childNodes[0],c="";null!=o?o.dataset.kind?c="kind":o.dataset.bad&&(c="bad"):c="empty";sessionStorage.setItem("clicked-item",c),setTimeout((()=>{e.forEach((e=>{e.classList.add("_hold")}))}),20),setTimeout((()=>{!function(e){e.forEach((e=>{e.classList.add("_show-img"),e.childNodes[0]&&e.childNodes[0].dataset.kind&&e.classList.add("_kind"),e.childNodes[0]&&1==e.childNodes[0].dataset.bad&&e.classList.add("_bad")}))}(t)}),1500),setTimeout((()=>{!function(e){let t=sessionStorage.getItem("clicked-item"),s=+sessionStorage.getItem("current-level");if("empty"==t&&16==s||"kind"==t&&16==s){let t=h();sessionStorage.setItem("win-level",t),document.querySelector(".play").classList.add("_active");let s=y(+sessionStorage.getItem("win-level")),o=+sessionStorage.getItem("current-bet")*s;return r.textContent=`x${s}`,n.textContent=o,b(o),sessionStorage.setItem("win-level",0),e.closest(".game-monster__item").classList.add("_green"),!1}if("kind"==t){let t=h();return sessionStorage.setItem("win-level",t),sessionStorage.setItem("current-level",+sessionStorage.getItem("current-level")+1),sessionStorage.setItem("clicked-item",""),e.closest(".game-monster__item").classList.add("_green"),g()}if("bad"==t)if(e.closest(".game-monster__item").classList.add("_red"),document.querySelector(".play").classList.add("_active"),sessionStorage.getItem("win-level")){let e=y(+sessionStorage.getItem("win-level")),t=+sessionStorage.getItem("current-bet")*e;r.textContent=`x${e}`,n.textContent=t,b(t),sessionStorage.setItem("win-level",0)}else r.textContent="0",n.textContent="0";if("empty"==t)return e.closest(".game-monster__item").classList.add("_green"),sessionStorage.setItem("current-level",+sessionStorage.getItem("current-level")+1),sessionStorage.setItem("clicked-item",""),g();sessionStorage.setItem("clicked-item","")}(s)}),2500)}(e,S(e),o)}if(o.closest(".footer-monster__button_high")&&(sessionStorage.setItem("activ-mode",1),c(".footer-monster__button_high","_hold"),c(".footer-monster__button_low","_hold"),c(".footer-monster__button_low","_opacity"),document.querySelectorAll(".card__closed").forEach((e=>{e.classList.add("_anim")})),document.querySelector(".card__field").classList.remove("_hold")),o.closest(".footer-monster__button_low")&&(sessionStorage.setItem("activ-mode",2),c(".footer-monster__button_high","_hold"),c(".footer-monster__button_high","_opacity"),c(".footer-monster__button_low","_hold"),document.querySelectorAll(".card__closed").forEach((e=>{e.classList.add("_anim")})),document.querySelector(".card__field").classList.remove("_hold")),o.closest(".card__closed")){o.closest(".card__closed").classList.add("_visible");let e=+o.closest(".card__closed").dataset.number;sessionStorage.setItem("opened-closed-card",e),function(){let e=+sessionStorage.getItem("opened-card"),t=+sessionStorage.getItem("opened-closed-card");e<t&&1==+sessionStorage.getItem("activ-mode")?setTimeout((()=>{document.querySelector(".win").classList.add("_active");let e=2*+sessionStorage.getItem("current-bet");document.querySelector(".win__text").textContent=e,b(e)}),1500):e<t&&2==+sessionStorage.getItem("activ-mode")||e>t&&1==+sessionStorage.getItem("activ-mode")?setTimeout((()=>{document.querySelector(".loose").classList.add("_active")}),1500):e>t&&2==+sessionStorage.getItem("activ-mode")&&setTimeout((()=>{document.querySelector(".win").classList.add("_active");let e=2*+sessionStorage.getItem("current-bet");document.querySelector(".win__text").textContent=e,b(e)}),1500)}()}o.closest(".win__button_play")&&(document.querySelector(".win").classList.remove("_active"),I(),c(".footer-monster__controls","_hold"),c(".footer-monster__button_card","_hold"),c(".card__field","_hold"),document.querySelectorAll(".footer-monster__button_select").forEach((e=>{e.classList.contains("_opacity")&&e.classList.remove("_opacity")})),document.querySelectorAll(".card__closed").forEach((e=>{e.classList.contains("_visible")&&e.classList.remove("_visible")})),L=[]),o.closest(".loose__button_play")&&(document.querySelector(".loose").classList.remove("_active"),I(),c(".footer-monster__controls","_hold"),c(".footer-monster__button_card","_hold"),c(".card__field","_hold"),document.querySelectorAll(".footer-monster__button_select").forEach((e=>{e.classList.contains("_opacity")&&e.classList.remove("_opacity")})),document.querySelectorAll(".card__closed").forEach((e=>{e.classList.contains("_visible")&&e.classList.remove("_visible")})),L=[])}));let _=[];function g(){let e=h(),t=p(e);t.forEach((e=>{e.classList.add("_visible")}));let s=S(t);e>=1&&e<=16&&function(e,t){let s=["img/game-1/good-monster-1.png","img/game-1/good-monster-2.png"],o=["img/game-1/bad-monster-1.png","img/game-1/bad-monster-2.png"],r=document.createElement("img"),n=document.createElement("img"),c=document.createElement("img"),i=u(0,2);_=[];let a=f(0,4);t>=1&&t<=6?(r.setAttribute("data-kind","1"),r.setAttribute("src","img/game-1/good-monster-1.png"),n.setAttribute("data-kind","1"),n.setAttribute("src","img/game-1/good-monster-2.png"),c.setAttribute("data-bad","1"),c.setAttribute("src",o[i]),e[a[0]].append(r),e[a[1]].append(n),e[a[2]].append(c)):t>=7&&t<=12?(r.setAttribute("data-kind","1"),r.setAttribute("src",s[i]),n.setAttribute("data-bad","1"),n.setAttribute("src",o[i]),e[a[0]].append(r),e[a[1]].append(n)):t>=13&&(r.setAttribute("data-bad","1"),r.setAttribute("src","img/game-1/bad-monster-1.png"),n.setAttribute("data-bad","1"),n.setAttribute("src","img/game-1/bad-monster-2.png"),c.setAttribute("data-kind","1"),c.setAttribute("src",s[i]),e[a[0]].append(r),e[a[1]].append(n),e[a[2]].append(c))}(s,e)}function S(e){return e.filter((e=>!e.classList.contains("game-monster__item_level")))}function h(){return+sessionStorage.getItem("current-level")}function p(e){let t=document.querySelectorAll(".game-monster__item"),s=[];return t.forEach((t=>{t.dataset.level==e&&s.push(t)})),s}function b(e){document.querySelector(".check").textContent=+sessionStorage.getItem("money")+e,document.querySelector(".check").classList.add("_anim-add-money"),sessionStorage.setItem("money",+sessionStorage.getItem("money")+e)}function y(e){let t=0;return 1==e?t=1:2==e?t=2:3==e?t=5:4==e?t=10:5==e?t=15:6==e?t=32:7==e?t=42:8==e?t=53:9==e?t=60:10==e?t=63:11==e?t=70:12==e?t=75:13==e?t=80:14==e?t=90:15==e?t=120:16==e&&(t=160),t}function f(e,t){if(0==_.length){let s=u(e,t);_.push(s)}if(1==_.length){let s=u(e,t);if(1==_.includes(s))return f(0,4);_.push(s)}if(2==_.length){let s=u(e,t);if(1==_.includes(s))return f(0,4);_.push(s)}return _}function I(){document.querySelector(".card__opened img").remove(),document.querySelector(".card__new-card_1 img").remove(),document.querySelector(".card__new-card_2 img").remove(),document.querySelector(".card__new-card_3 img").remove()}let L=[];function q(){let e=u(2,14);return L.includes(e)?q():(L.push(e),e)}function v(e,t,s){let o=e[t],r=document.createElement("img");r.setAttribute("src",`img/game-2/card-${o}.png`),r.setAttribute("data-number",o),r.setAttribute("alt","Image"),document.querySelector(s).append(r)}window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();